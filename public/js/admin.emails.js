webpackJsonp([3],{

/***/ 0:
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	var React = __webpack_require__(11);
	
	var _ = __webpack_require__(218);
	
	var UsersPage = __webpack_require__(221);
	var TemplatePage = __webpack_require__(222);
	var SendPage = __webpack_require__(223);
	
	var App = React.createClass({
	  displayName: "App",
	
	  getInitialState: function getInitialState() {
	    return {
	      users: [],
	      template: "" };
	  },
	  addUser: function addUser(user) {
	    var existing = _.find(this.state.users, function (u) {
	      return u._id === user._id;
	    });
	
	    if (!existing) {
	      this.setState({
	        users: this.state.users.concat([user])
	      });
	    }
	  },
	  removeUser: function removeUser(user) {
	    var newUsers = _.find(this.state.users, function (u) {
	      return u._id !== user._id;
	    });
	
	    this.setState({
	      users: newUsers
	    });
	  },
	  clearUsers: function clearUsers() {
	    this.setState({
	      users: []
	    });
	  },
	  render: function render() {
	    return React.createElement(
	      "div",
	      { className: "row page-emails" },
	      React.createElement(
	        "div",
	        { className: "col s12" },
	        React.createElement(
	          "ul",
	          { className: "tabs" },
	          React.createElement(
	            "li",
	            { className: "tab col s3" },
	            React.createElement(
	              "a",
	              { className: "active", href: "#users" },
	              React.createElement(
	                "span",
	                { "class": "badge" },
	                "1."
	              ),
	              " Select users"
	            )
	          ),
	          React.createElement(
	            "li",
	            { className: "tab col s3" },
	            React.createElement(
	              "a",
	              { href: "#templates" },
	              React.createElement(
	                "span",
	                { "class": "badge" },
	                "2."
	              ),
	              " Select template"
	            )
	          ),
	          React.createElement(
	            "li",
	            { className: "tab col s3" },
	            React.createElement(
	              "a",
	              { href: "#send" },
	              React.createElement(
	                "span",
	                { "class": "badge" },
	                "3."
	              ),
	              " Send"
	            )
	          )
	        )
	      ),
	      React.createElement(
	        "section",
	        { className: "tab-content" },
	        React.createElement(
	          "div",
	          { id: "users", className: "col s12" },
	          React.createElement(UsersPage, {
	            users: this.state.users,
	            addUser: this.addUser,
	            removeUser: this.removeUser,
	            clearUsers: this.clearUsers })
	        ),
	        React.createElement(
	          "div",
	          { id: "templates", className: "col s12" },
	          React.createElement(TemplatePage, null)
	        ),
	        React.createElement(
	          "div",
	          { id: "send", className: "col s12" },
	          React.createElement(SendPage, null)
	        )
	      )
	    );
	  }
	});
	
	React.render(React.createElement(App, null), document.getElementById("react-root"));

/***/ },

/***/ 221:
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	var React = __webpack_require__(11);
	
	var ModelTable = __webpack_require__(217);
	
	module.exports = React.createClass({
	  displayName: "exports",
	
	  propTypes: {
	    users: React.PropTypes.array,
	    addUser: React.PropTypes.func },
	
	  getDefaultProps: function getDefaultProps() {
	    return {
	      users: [],
	      addUser: null };
	  },
	
	  onRowClick: function onRowClick(user) {
	    if (this.props.addUser) {
	      this.props.addUser(user);
	    }
	  },
	
	  render: function render() {
	    var columns = [{
	      name: "username"
	    }];
	
	    var users = this.props.users.map(function (user) {
	      return React.createElement(
	        "li",
	        { className: "collection-item" },
	        user.username
	      );
	    });
	
	    return React.createElement(
	      "div",
	      { className: "row" },
	      React.createElement(
	        "div",
	        { className: "col s12 m5" },
	        React.createElement(ModelTable, {
	          modelName: "User",
	          columns: columns,
	          excludeRows: this.props.users,
	          onRowClick: this.onRowClick })
	      ),
	      React.createElement(
	        "div",
	        { className: "col s12 m6 offset-m1" },
	        React.createElement(
	          "h2",
	          null,
	          "Selected users:"
	        ),
	        React.createElement(
	          "ul",
	          { className: "collection" },
	          users
	        )
	      )
	    );
	  }
	
	});

/***/ },

/***/ 222:
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	var React = __webpack_require__(11);
	
	module.exports = React.createClass({
	  displayName: "exports",
	
	  render: function render() {
	    return React.createElement(
	      "div",
	      { className: "content-templates" },
	      "templates"
	    );
	  }
	
	});

/***/ },

/***/ 223:
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	var React = __webpack_require__(11);
	
	module.exports = React.createClass({
	  displayName: "exports",
	
	  render: function render() {
	    return React.createElement(
	      "div",
	      { className: "content-send" },
	      "send"
	    );
	  }
	
	});

/***/ }

});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcy9lbWFpbHMvYXBwLmpzIiwid2VicGFjazovLy8uL3BhZ2VzL2VtYWlscy91c2Vycy5qcyIsIndlYnBhY2s6Ly8vLi9wYWdlcy9lbWFpbHMvdGVtcGxhdGVzLmpzIiwid2VicGFjazovLy8uL3BhZ2VzL2VtYWlscy9zZW5kLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsYUFBWSxDQUFDOztBQUViLEtBQUksS0FBSyxHQUFHLG1CQUFPLENBQUMsRUFBTyxDQUFDLENBQUM7O0FBRTdCLEtBQUksQ0FBQyxHQUFHLG1CQUFPLENBQUMsR0FBb0IsQ0FBQyxDQUFDOztBQUV0QyxLQUFJLFNBQVMsR0FBRyxtQkFBTyxDQUFDLEdBQVMsQ0FBQyxDQUFDO0FBQ25DLEtBQUksWUFBWSxHQUFHLG1CQUFPLENBQUMsR0FBYSxDQUFDLENBQUM7QUFDMUMsS0FBSSxRQUFRLEdBQUcsbUJBQU8sQ0FBQyxHQUFRLENBQUMsQ0FBQzs7QUFFakMsS0FBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQztBQUM1QixHQUFFLFdBQVcsRUFBRSxLQUFLOztHQUVsQixlQUFlLEVBQUUsU0FBUyxlQUFlLEdBQUc7S0FDMUMsT0FBTztPQUNMLEtBQUssRUFBRSxFQUFFO09BQ1QsUUFBUSxFQUFFLEVBQUUsRUFBRSxDQUFDO0lBQ2xCO0dBQ0QsT0FBTyxFQUFFLFNBQVMsT0FBTyxDQUFDLElBQUksRUFBRTtLQUM5QixJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxFQUFFO09BQ25ELE9BQU8sQ0FBQyxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQ2hDLE1BQUssQ0FBQyxDQUFDOztLQUVILElBQUksQ0FBQyxRQUFRLEVBQUU7T0FDYixJQUFJLENBQUMsUUFBUSxDQUFDO1NBQ1osS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFL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Q0FBQztBQUNuQyxHQUFFLFdBQVcsRUFBRSxTQUFTOztHQUV0QixNQUFNLEVBQUUsU0FBUyxNQUFNLEdBQUc7S0FDeEIsT0FBTyxLQUFLLENBQUMsYUFBYTtPQUN4QixLQUFLO09BQ0wsRUFBRSxTQUFTLEVBQUUsbUJBQW1CLEVBQUU7T0FDbEMsV0FBVztNQUNaLENBQUM7QUFDTixJQUFHOztFQUVGLENBQUMsQzs7Ozs7OztBQ2ZGLGFBQVksQ0FBQzs7QUFFYixLQUFJLEtBQUssR0FBRyxtQkFBTyxDQUFDLEVBQU8sQ0FBQyxDQUFDOztBQUU3QixPQUFNLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7QUFDbkMsR0FBRSxXQUFXLEVBQUUsU0FBUzs7R0FFdEIsTUFBTSxFQUFFLFNBQVMsTUFBTSxHQUFHO0tBQ3hCLE9BQU8sS0FBSyxDQUFDLGFBQWE7T0FDeEIsS0FBSztPQUNMLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRTtPQUM3QixNQUFNO01BQ1AsQ0FBQztBQUNOLElBQUc7O0VBRUYsQ0FBQyxDIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxudmFyIF8gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbG9kYXNoXCIpO1xuXG52YXIgVXNlcnNQYWdlID0gcmVxdWlyZShcIi4vdXNlcnNcIik7XG52YXIgVGVtcGxhdGVQYWdlID0gcmVxdWlyZShcIi4vdGVtcGxhdGVzXCIpO1xudmFyIFNlbmRQYWdlID0gcmVxdWlyZShcIi4vc2VuZFwiKTtcblxudmFyIEFwcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6IFwiQXBwXCIsXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJzOiBbXSxcbiAgICAgIHRlbXBsYXRlOiBcIlwiIH07XG4gIH0sXG4gIGFkZFVzZXI6IGZ1bmN0aW9uIGFkZFVzZXIodXNlcikge1xuICAgIHZhciBleGlzdGluZyA9IF8uZmluZCh0aGlzLnN0YXRlLnVzZXJzLCBmdW5jdGlvbiAodSkge1xuICAgICAgcmV0dXJuIHUuX2lkID09PSB1c2VyLl9pZDtcbiAgICB9KTtcblxuICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB1c2VyczogdGhpcy5zdGF0ZS51c2Vycy5jb25jYXQoW3VzZXJdKVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICByZW1vdmVVc2VyOiBmdW5jdGlvbiByZW1vdmVVc2VyKHVzZXIpIHtcbiAgICB2YXIgbmV3VXNlcnMgPSBfLmZpbmQodGhpcy5zdGF0ZS51c2VycywgZnVuY3Rpb24gKHUpIHtcbiAgICAgIHJldHVybiB1Ll9pZCAhPT0gdXNlci5faWQ7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHVzZXJzOiBuZXdVc2Vyc1xuICAgIH0pO1xuICB9LFxuICBjbGVhclVzZXJzOiBmdW5jdGlvbiBjbGVhclVzZXJzKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdXNlcnM6IFtdXG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgY2xhc3NOYW1lOiBcInJvdyBwYWdlLWVtYWlsc1wiIH0sXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7IGNsYXNzTmFtZTogXCJjb2wgczEyXCIgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcInVsXCIsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IFwidGFic1wiIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIFwibGlcIixcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInRhYiBjb2wgczNcIiB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgXCJhXCIsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcImFjdGl2ZVwiLCBocmVmOiBcIiN1c2Vyc1wiIH0sXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgeyBcImNsYXNzXCI6IFwiYmFkZ2VcIiB9LFxuICAgICAgICAgICAgICAgIFwiMS5cIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBcIiBTZWxlY3QgdXNlcnNcIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIFwibGlcIixcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBcInRhYiBjb2wgczNcIiB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgXCJhXCIsXG4gICAgICAgICAgICAgIHsgaHJlZjogXCIjdGVtcGxhdGVzXCIgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICB7IFwiY2xhc3NcIjogXCJiYWRnZVwiIH0sXG4gICAgICAgICAgICAgICAgXCIyLlwiXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIFwiIFNlbGVjdCB0ZW1wbGF0ZVwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgXCJsaVwiLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IFwidGFiIGNvbCBzM1wiIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBcImFcIixcbiAgICAgICAgICAgICAgeyBocmVmOiBcIiNzZW5kXCIgfSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICB7IFwiY2xhc3NcIjogXCJiYWRnZVwiIH0sXG4gICAgICAgICAgICAgICAgXCIzLlwiXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIFwiIFNlbmRcIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKSxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFwic2VjdGlvblwiLFxuICAgICAgICB7IGNsYXNzTmFtZTogXCJ0YWItY29udGVudFwiIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7IGlkOiBcInVzZXJzXCIsIGNsYXNzTmFtZTogXCJjb2wgczEyXCIgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFVzZXJzUGFnZSwge1xuICAgICAgICAgICAgdXNlcnM6IHRoaXMuc3RhdGUudXNlcnMsXG4gICAgICAgICAgICBhZGRVc2VyOiB0aGlzLmFkZFVzZXIsXG4gICAgICAgICAgICByZW1vdmVVc2VyOiB0aGlzLnJlbW92ZVVzZXIsXG4gICAgICAgICAgICBjbGVhclVzZXJzOiB0aGlzLmNsZWFyVXNlcnMgfSlcbiAgICAgICAgKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHsgaWQ6IFwidGVtcGxhdGVzXCIsIGNsYXNzTmFtZTogXCJjb2wgczEyXCIgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRlbXBsYXRlUGFnZSwgbnVsbClcbiAgICAgICAgKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHsgaWQ6IFwic2VuZFwiLCBjbGFzc05hbWU6IFwiY29sIHMxMlwiIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTZW5kUGFnZSwgbnVsbClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG5SZWFjdC5yZW5kZXIoUmVhY3QuY3JlYXRlRWxlbWVudChBcHAsIG51bGwpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlYWN0LXJvb3RcIikpO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC9Vc2Vycy9yYW0vZGV2L2pzL3dhaWdvLWZyYW1ld29yay93YWlnby9+L2JhYmVsLWxvYWRlcj9leHBlcmltZW50YWwmb3B0aW9uYWw9cnVudGltZSEuL3BhZ2VzL2VtYWlscy9hcHAuanNcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xuXG52YXIgTW9kZWxUYWJsZSA9IHJlcXVpcmUoXCIuLi8uLi9jb21wb25lbnRzL21vZGVsVGFibGVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogXCJleHBvcnRzXCIsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgdXNlcnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBhZGRVc2VyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICB1c2VyczogW10sXG4gICAgICBhZGRVc2VyOiBudWxsIH07XG4gIH0sXG5cbiAgb25Sb3dDbGljazogZnVuY3Rpb24gb25Sb3dDbGljayh1c2VyKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuYWRkVXNlcikge1xuICAgICAgdGhpcy5wcm9wcy5hZGRVc2VyKHVzZXIpO1xuICAgIH1cbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgY29sdW1ucyA9IFt7XG4gICAgICBuYW1lOiBcInVzZXJuYW1lXCJcbiAgICB9XTtcblxuICAgIHZhciB1c2VycyA9IHRoaXMucHJvcHMudXNlcnMubWFwKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgXCJsaVwiLFxuICAgICAgICB7IGNsYXNzTmFtZTogXCJjb2xsZWN0aW9uLWl0ZW1cIiB9LFxuICAgICAgICB1c2VyLnVzZXJuYW1lXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBjbGFzc05hbWU6IFwicm93XCIgfSxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBcImNvbCBzMTIgbTVcIiB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE1vZGVsVGFibGUsIHtcbiAgICAgICAgICBtb2RlbE5hbWU6IFwiVXNlclwiLFxuICAgICAgICAgIGNvbHVtbnM6IGNvbHVtbnMsXG4gICAgICAgICAgZXhjbHVkZVJvd3M6IHRoaXMucHJvcHMudXNlcnMsXG4gICAgICAgICAgb25Sb3dDbGljazogdGhpcy5vblJvd0NsaWNrIH0pXG4gICAgICApLFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAgeyBjbGFzc05hbWU6IFwiY29sIHMxMiBtNiBvZmZzZXQtbTFcIiB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIFwiaDJcIixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIFwiU2VsZWN0ZWQgdXNlcnM6XCJcbiAgICAgICAgKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcInVsXCIsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IFwiY29sbGVjdGlvblwiIH0sXG4gICAgICAgICAgdXNlcnNcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cblxufSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogL1VzZXJzL3JhbS9kZXYvanMvd2FpZ28tZnJhbWV3b3JrL3dhaWdvL34vYmFiZWwtbG9hZGVyP2V4cGVyaW1lbnRhbCZvcHRpb25hbD1ydW50aW1lIS4vcGFnZXMvZW1haWxzL3VzZXJzLmpzXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiBcImV4cG9ydHNcIixcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IGNsYXNzTmFtZTogXCJjb250ZW50LXRlbXBsYXRlc1wiIH0sXG4gICAgICBcInRlbXBsYXRlc1wiXG4gICAgKTtcbiAgfVxuXG59KTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAvVXNlcnMvcmFtL2Rldi9qcy93YWlnby1mcmFtZXdvcmsvd2FpZ28vfi9iYWJlbC1sb2FkZXI/ZXhwZXJpbWVudGFsJm9wdGlvbmFsPXJ1bnRpbWUhLi9wYWdlcy9lbWFpbHMvdGVtcGxhdGVzLmpzXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiBcImV4cG9ydHNcIixcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IGNsYXNzTmFtZTogXCJjb250ZW50LXNlbmRcIiB9LFxuICAgICAgXCJzZW5kXCJcbiAgICApO1xuICB9XG5cbn0pO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC9Vc2Vycy9yYW0vZGV2L2pzL3dhaWdvLWZyYW1ld29yay93YWlnby9+L2JhYmVsLWxvYWRlcj9leHBlcmltZW50YWwmb3B0aW9uYWw9cnVudGltZSEuL3BhZ2VzL2VtYWlscy9zZW5kLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiYWRtaW4uZW1haWxzLmpzIn0=